<!-- So, this page needs to render the form, and also show results once the form is submitted -->

<!DOCTYPE html>
<html>
<title>Topic Widge</title>
<body>

<h1>Enter Topic</h1>

<!-- Search form -->
<form  method="GET" action="index.php"  id="searchform"> 
	<input  type="text" name="topic"> 
	<input  type="submit" value="Search"> 
</form>

<!-- logic to check form submission and extract the variable 

this is handled by the line in my controller, index.php:

// Catch the topic variable from the submission form in index.twig
$topic = $request->query->get('topic');

-->

<!-- and then here we render the recent search terms and the external page results

That's it? We just use the variables from the return $app['twig']->render('index.twig', []); block now? -->

<p>You searched for the topic {{ topic }}.</p>

<!-- TODO: Prettier way to show arrays -->

{# Revive this again if I need to dump variables

{% for topic_lifo in topics_lifo %}
   {{ dump(topic_lifo) }}
{% endfor %}

{% for link_docommunity in links_docommunity %}
   {{ dump(link_docommunity) }}
{% endfor %}

#}

<!-- Show the recent search topics -->

<ul>
    {% for topic_lifo in topics_lifo %}
        <li>{{ topic_lifo|e }}</li>
    {% else %}
        <li><em>Please enter a search topic.</em></li>
    {% endfor %}
</ul>


<!-- Showing search results for DO Community -->

<ul>
    {% for link_docommunity in links_docommunity %}
        <li><a href={{ link_docommunity.href|e }}>{{ link_docommunity.text|e }}</a></li>
    {% else %}
        <li><em>No DO Community Results</em></li>
    {% endfor %}
</ul>


</body>
</html>